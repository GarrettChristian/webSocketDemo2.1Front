{"ast":null,"code":"import _classCallCheck from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/testing/WebSocketDemo2/websock_demo2_client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/testing/WebSocketDemo2/websock_demo2_client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/testing/WebSocketDemo2/websock_demo2_client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/garrettchristian/DocumentsDesktop/csSeniorYear/testing/WebSocketDemo2/websock_demo2_client/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import SockJsClient from'react-stomp';import DisplayMessages from'./DisplayMessages';var Chat=/*#__PURE__*/function(_Component){_inherits(Chat,_Component);var _super=_createSuper(Chat);function Chat(props){var _this;_classCallCheck(this,Chat);_this=_super.call(this,props);_this.sendMessage=function(){_this.clientRef.sendMessage('/app/chat',JSON.stringify({from:_this.state.name,text:_this.state.typedMessage}));_this.setState({typedMessage:\"Message To Send\"});};_this.displayMessages=function(){return/*#__PURE__*/_jsx(\"div\",{children:_this.state.messages.map(function(msg){return/*#__PURE__*/_jsx(\"div\",{children:_this.state.name===msg.from?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{style:{color:'#6c90aa'},children:[msg.from,\" : \",msg.text,\" : \",msg.time]})}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{style:{color:'#93aabc'},children:[msg.from,\" : \",msg.text,\" : \",msg.time]})})});})});};_this.state={messages:[],typedMessage:\"Message To Send\",name:_this.props.name,recievedMessage:false};_this.generalDisplayArea=/*#__PURE__*/React.createRef();return _this;}_createClass(Chat,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Chatting as: \",this.state.name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Send Message: \"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea\",value:this.state.typedMessage,onChange:function onChange(event){_this2.setState({typedMessage:event.target.value});}})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:this.sendMessage,children:\"Send\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsx(DisplayMessages,{ref:this.generalDisplayArea,name:this.state.name})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SockJsClient,{url:\"https://web-socket-demo-back.herokuapp.com//chat/\",topics:['/topic/messages'],onConnect:function onConnect(){console.log(\"connected!\");},onDisconnect:function onDisconnect(){console.log(\"Disconnected\");},onMessage:function onMessage(msg){console.log(msg);_this2.generalDisplayArea.current.addMessage(msg);},ref:function ref(client){_this2.clientRef=client;}})})]});}}]);return Chat;}(Component);export default Chat;","map":{"version":3,"sources":["/Users/garrettchristian/DocumentsDesktop/csSeniorYear/testing/WebSocketDemo2/websock_demo2_client/src/Components/Chat.js"],"names":["React","Component","SockJsClient","DisplayMessages","Chat","props","sendMessage","clientRef","JSON","stringify","from","state","name","text","typedMessage","setState","displayMessages","messages","map","msg","color","time","recievedMessage","generalDisplayArea","createRef","handleSubmit","event","target","value","console","log","current","addMessage","client"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport SockJsClient from 'react-stomp';\nimport DisplayMessages from './DisplayMessages';\n\nclass Chat extends Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n          messages: [],\n          typedMessage: \"Message To Send\",\n          name: this.props.name,\n          recievedMessage: false\n      }\n      this.generalDisplayArea = React.createRef();\n  }\n\n  sendMessage = () => {\n    this.clientRef.sendMessage('/app/chat', JSON.stringify({\n        from: this.state.name,\n        text: this.state.typedMessage\n    }));\n    this.setState({typedMessage: \"Message To Send\"});\n  };\n\n  displayMessages = () => {\n    return (\n      <div>\n        {this.state.messages.map(msg => {\n          return (\n            <div>\n              {this.state.name === msg.from ?\n                <div>\n                  <p style={{ color: '#6c90aa' }}>{msg.from} : {msg.text} : {msg.time}</p>\n                </div> :\n                <div>\n                  <p style={{ color: '#93aabc' }}>{msg.from} : {msg.text} : {msg.time}</p>\n                </div>\n              }\n            </div>)\n        })}\n      </div>\n    );\n  };  \n\n  render() {\n    return (\n      <div>\n        <h2>\n          Chatting as: {this.state.name} \n        </h2>\n\n        <br></br>\n\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              {/* Submit message area */}\n              <form onSubmit={this.handleSubmit}>\n                <label>\n                  <p>Send Message: </p>\n                  <textarea className=\"textarea\" value={this.state.typedMessage} onChange={(event) => {\n                    this.setState({typedMessage: event.target.value});\n                  }}/>\n                </label>\n              </form>\n\n              <button className=\"button\" onClick={this.sendMessage}>Send</button>\n            </div>\n\n            <div class=\"col-md-6\">\n              {/* Display messages */}\n              <DisplayMessages ref={this.generalDisplayArea} name = {this.state.name}/>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          {/* <SockJsClient url='http://localhost:8080/chat/' */}\n          <SockJsClient url='https://web-socket-demo-back.herokuapp.com//chat/'\n            topics={['/topic/messages']}\n            onConnect={() => {\n                console.log(\"connected!\");\n            }}\n            onDisconnect={() => {\n                console.log(\"Disconnected\");\n            }}\n            onMessage={(msg) => {\n                console.log(msg);\n                this.generalDisplayArea.current.addMessage(msg);\n            }}\n            ref={(client) => {\n                this.clientRef = client\n            }}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}